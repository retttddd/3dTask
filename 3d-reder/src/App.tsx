import {useCallback, useEffect, useRef, useState} from "react"
import "./App.css"
import {
    clearCanvas,
    animate,
    stopAnimation,
} from "./utils"
import Slider from "./components /Slider.tsx";

const ZOOM_MIN = -10
const ZOOM_MAX = 10
const WHEEL_ZOOM_SENSITIVITY = 0.01
const ROTATION_MIN = -Math.PI
const ROTATION_MAX = Math.PI

function App() {

    const [movingZ, setMovingZ] = useState(0)
    const [rotationAngle, setRotationAngle] = useState(0)
    const [rotationAngleXY, setRotationAngleXY] = useState(0)
    const [isDisabled, setIsDisabled] = useState(false)

    const canvasRef = useRef<HTMLCanvasElement | null>(null)
    const vs = [
      {x: -0.086914, y: 0.277547, z: 0.400041},
      {x: -0.069555, y: 0.329698, z: 0.376422},
      {x: -0.125429, y: 0.305056, z: 0.175577},
      {x: -0.087431, y: 0.359323, z: 0.182228},
      {x: 0.086914, y: 0.277547, z: 0.400041},
      {x: 0.069555, y: 0.329698, z: 0.376422},
      {x: 0.125429, y: 0.305056, z: 0.175577},
      {x: 0.087431, y: 0.359323, z: 0.182228},
      {x: -0.162461, y: 0.331177, z: 0.163170},
      {x: -0.120032, y: 0.285356, z: 0.287080},
      {x: 0.000000, y: 0.316913, z: 0.150254},
      {x: 0.000000, y: 0.431152, z: 0.159026},
      {x: 0.162461, y: 0.331177, z: 0.163170},
      {x: 0.120032, y: 0.285356, z: 0.287080},
      {x: 0.038632, y: 0.351515, z: 0.295188},
      {x: 0.112575, y: 0.300152, z: 0.416327},
      {x: 0.000000, y: 0.283376, z: 0.423906},
      {x: 0.000000, y: 0.339429, z: 0.443461},
      {x: -0.038632, y: 0.351515, z: 0.295188},
      {x: 0.000000, y: 0.333645, z: 0.122512},
      {x: 0.151316, y: 0.313187, z: 0.289445},
      {x: 0.000000, y: 0.307518, z: 0.456379},
      {x: 0.000000, y: 0.299713, z: 0.285755},
      {x: 0.000000, y: 0.363275, z: 0.294437},
      {x: -0.112575, y: 0.300152, z: 0.416327},
      {x: -0.151316, y: 0.313187, z: 0.289445},
      {x: 0.118885, y: 0.399961, z: 0.192279},
      {x: 0.100036, y: 0.433856, z: 0.198983},
      {x: 0.102966, y: 0.396398, z: 0.165539},
      {x: 0.084118, y: 0.430293, z: 0.172243},
      {x: 0.176608, y: 0.439909, z: 0.152593},
      {x: 0.157760, y: 0.473804, z: 0.159297},
      {x: 0.160690, y: 0.436346, z: 0.125853},
      {x: 0.141841, y: 0.470241, z: 0.132557},
      {x: 0.106666, y: 0.390088, z: 0.182523},
      {x: 0.104880, y: 0.412922, z: 0.202910},
      {x: 0.083687, y: 0.431411, z: 0.190696},
      {x: 0.085473, y: 0.408578, z: 0.170310},
      {x: 0.132149, y: 0.412268, z: 0.142032},
      {x: 0.109170, y: 0.453590, z: 0.150205},
      {x: 0.155846, y: 0.457280, z: 0.121927},
      {x: 0.177039, y: 0.438791, z: 0.134140},
      {x: 0.154060, y: 0.480114, z: 0.142313},
      {x: 0.175253, y: 0.461624, z: 0.154527},
      {x: 0.151556, y: 0.416612, z: 0.174632},
      {x: 0.128577, y: 0.457934, z: 0.182805},
      {x: 0.081904, y: 0.401564, z: 0.195735},
      {x: 0.116999, y: 0.432110, z: 0.139970},
      {x: 0.178822, y: 0.468638, z: 0.129101},
      {x: 0.143727, y: 0.438092, z: 0.184867},
      {x: 0.146186, y: 0.406646, z: 0.156790},
      {x: 0.114539, y: 0.463556, z: 0.168046},
      {x: -0.118885, y: 0.399961, z: 0.192279},
      {x: -0.100036, y: 0.433856, z: 0.198983},
      {x: -0.102966, y: 0.396398, z: 0.165539},
      {x: -0.084118, y: 0.430293, z: 0.172243},
      {x: -0.176608, y: 0.439909, z: 0.152593},
      {x: -0.157760, y: 0.473804, z: 0.159297},
      {x: -0.160690, y: 0.436346, z: 0.125853},
      {x: -0.141841, y: 0.470241, z: 0.132557},
      {x: -0.106666, y: 0.390088, z: 0.182523},
      {x: -0.104880, y: 0.412922, z: 0.202910},
      {x: -0.083687, y: 0.431411, z: 0.190696},
      {x: -0.085473, y: 0.408578, z: 0.170310},
      {x: -0.132149, y: 0.412268, z: 0.142032},
      {x: -0.109170, y: 0.453590, z: 0.150205},
      {x: -0.155846, y: 0.457280, z: 0.121927},
      {x: -0.177039, y: 0.438791, z: 0.134140},
      {x: -0.154060, y: 0.480114, z: 0.142313},
      {x: -0.175253, y: 0.461624, z: 0.154527},
      {x: -0.151556, y: 0.416612, z: 0.174632},
      {x: -0.128577, y: 0.457934, z: 0.182805},
      {x: -0.081904, y: 0.401564, z: 0.195735},
      {x: -0.116999, y: 0.432110, z: 0.139970},
      {x: -0.178822, y: 0.468638, z: 0.129102},
      {x: -0.143727, y: 0.438092, z: 0.184867},
      {x: -0.146187, y: 0.406646, z: 0.156790},
      {x: -0.114539, y: 0.463556, z: 0.168046},
      {x: 0.116485, y: 0.600505, z: 0.141727},
      {x: 0.261417, y: -0.299902, z: 0.348366},
      {x: -0.116485, y: 0.600505, z: 0.141727},
      {x: -0.261417, y: -0.299902, z: 0.348366},
      {x: 0.112046, y: 0.657167, z: -0.052576},
      {x: 0.239249, y: -0.285613, z: -0.195621},
      {x: -0.112046, y: 0.657167, z: -0.052576},
      {x: -0.239249, y: -0.285613, z: -0.195621},
      {x: 0.182365, y: -0.413886, z: -0.130600},
      {x: -0.182365, y: -0.413886, z: -0.130600},
      {x: 0.185370, y: -0.411127, z: 0.285766},
      {x: -0.185370, y: -0.411127, z: 0.285766},
      {x: -0.000000, y: -0.280698, z: -0.288600},
      {x: 0.000000, y: 0.685597, z: -0.059119},
      {x: -0.000000, y: -0.302354, z: 0.418056},
      {x: 0.000000, y: -0.426735, z: -0.175525},
      {x: -0.000000, y: 0.616801, z: 0.172179},
      {x: 0.346767, y: -0.313945, z: 0.082211},
      {x: 0.134460, y: 0.652623, z: 0.053817},
      {x: 0.226383, y: -0.434593, z: 0.081386},
      {x: 0.000000, y: -0.406050, z: 0.064396},
      {x: -0.000000, y: 0.702832, z: 0.076074},
      {x: 0.148239, y: 0.499868, z: -0.129503},
      {x: 0.167399, y: 0.217376, z: -0.179106},
      {x: 0.000000, y: 0.510360, z: -0.177507},
      {x: 0.000000, y: 0.222228, z: -0.243510},
      {x: 0.000000, y: -0.421023, z: 0.303086},
      {x: -0.346767, y: -0.313945, z: 0.082211},
      {x: -0.134460, y: 0.652623, z: 0.053817},
      {x: 0.253877, y: 0.206739, z: -0.012612},
      {x: 0.214625, y: 0.479434, z: 0.003080},
      {x: 0.158129, y: 0.450290, z: 0.133907},
      {x: 0.188613, y: 0.188153, z: 0.148241},
      {x: 0.000000, y: 0.444652, z: 0.202967},
      {x: -0.000000, y: 0.189861, z: 0.237317},
      {x: -0.226383, y: -0.434593, z: 0.081386},
      {x: 0.228074, y: -0.059677, z: -0.205451},
      {x: 0.000000, y: -0.055601, z: -0.288645},
      {x: -0.000000, y: -0.077669, z: 0.380767},
      {x: -0.148239, y: 0.499868, z: -0.129503},
      {x: -0.167399, y: 0.217376, z: -0.179106},
      {x: 0.336477, y: -0.071376, z: 0.037431},
      {x: 0.258730, y: -0.081163, z: 0.294948},
      {x: -0.253877, y: 0.206739, z: -0.012612},
      {x: -0.214625, y: 0.479434, z: 0.003080},
      {x: -0.158129, y: 0.450290, z: 0.133907},
      {x: -0.188613, y: 0.188153, z: 0.148241},
      {x: -0.228074, y: -0.059677, z: -0.205451},
      {x: -0.336477, y: -0.071376, z: 0.037431},
      {x: -0.258730, y: -0.081163, z: 0.294948},
      {x: 0.066239, y: 0.677571, z: -0.057217},
      {x: 0.213490, y: -0.368374, z: -0.165516},
      {x: 0.128870, y: -0.280276, z: -0.267035},
      {x: 0.106735, y: -0.422750, z: -0.160566},
      {x: 0.000000, y: -0.373623, z: -0.249661},
      {x: 0.314673, y: -0.301707, z: -0.071136},
      {x: -0.314673, y: -0.301707, z: -0.071136},
      {x: 0.210922, y: -0.428610, z: -0.043983},
      {x: 0.000000, y: -0.423055, z: -0.065328},
      {x: -0.244201, y: -0.180778, z: -0.207684},
      {x: 0.126667, y: 0.663471, z: -0.006633},
      {x: -0.195294, y: 0.491192, z: -0.068821},
      {x: 0.000000, y: 0.711143, z: 0.010063},
      {x: -0.213490, y: -0.368374, z: -0.165516},
      {x: 0.071185, y: 0.691313, z: 0.070402},
      {x: -0.155241, y: 0.365055, z: -0.158770},
      {x: 0.303068, y: -0.396966, z: 0.087021},
      {x: -0.132112, y: 0.602600, z: -0.089009},
      {x: 0.120944, y: -0.422690, z: 0.070511},
      {x: 0.183037, y: 0.581878, z: 0.028539},
      {x: 0.132112, y: 0.602600, z: -0.089009},
      {x: 0.155241, y: 0.365055, z: -0.158770},
      {x: 0.244201, y: -0.180778, z: -0.207684},
      {x: 0.000000, y: 0.617590, z: -0.123992},
      {x: 0.000000, y: 0.372508, z: -0.215321},
      {x: 0.000000, y: -0.174030, z: -0.298421},
      {x: 0.103174, y: 0.187991, z: 0.210662},
      {x: 0.000000, y: -0.198444, z: 0.419635},
      {x: -0.294693, y: 0.065372, z: 0.007647},
      {x: -0.129550, y: 0.627979, z: 0.107967},
      {x: 0.294693, y: 0.065372, z: 0.007647},
      {x: 0.232020, y: 0.349539, z: -0.013046},
      {x: 0.000000, y: 0.323920, z: 0.208490},
      {x: 0.088589, y: 0.220688, z: -0.227407},
      {x: 0.079730, y: 0.507125, z: -0.165927},
      {x: -0.232020, y: 0.349539, z: -0.013046},
      {x: 0.195294, y: 0.491192, z: -0.068821},
      {x: 0.226314, y: 0.213436, z: -0.101955},
      {x: 0.170260, y: 0.326295, z: 0.126748},
      {x: -0.000000, y: 0.542220, z: 0.194351},
      {x: 0.138605, y: 0.545492, z: 0.141718},
      {x: -0.210922, y: -0.428610, z: -0.043983},
      {x: 0.224239, y: -0.372873, z: 0.324377},
      {x: -0.000000, y: -0.381400, z: 0.379001},
      {x: 0.107381, y: -0.417734, z: 0.299738},
      {x: 0.069123, y: 0.612108, z: 0.162110},
      {x: 0.144110, y: -0.299803, z: 0.404857},
      {x: 0.273464, y: -0.200231, z: 0.340419},
      {x: 0.086530, y: 0.445098, z: 0.182669},
      {x: -0.170260, y: 0.326295, z: 0.126748},
      {x: 0.000000, y: 0.670466, z: 0.131824},
      {x: -0.226314, y: 0.213436, z: -0.101955},
      {x: 0.129550, y: 0.627979, z: 0.107967},
      {x: -0.126667, y: 0.663471, z: -0.006633},
      {x: 0.240899, y: 0.196199, z: 0.072126},
      {x: 0.202094, y: 0.463683, z: 0.072293},
      {x: -0.224239, y: -0.372873, z: 0.324377},
      {x: 0.196495, y: 0.073973, z: -0.194947},
      {x: 0.000000, y: 0.077321, z: -0.268617},
      {x: -0.000000, y: 0.053716, z: 0.306623},
      {x: 0.356649, y: -0.201172, z: 0.064475},
      {x: 0.223708, y: 0.050083, z: 0.216822},
      {x: 0.302413, y: -0.064867, z: -0.098045},
      {x: -0.138605, y: 0.545492, z: 0.141718},
      {x: 0.143359, y: -0.079578, z: 0.361124},
      {x: -0.273464, y: -0.200231, z: 0.340419},
      {x: 0.122283, y: -0.056588, z: -0.268697},
      {x: 0.323489, y: -0.077819, z: 0.178606},
      {x: -0.183037, y: 0.581878, z: 0.028539},
      {x: 0.211567, y: -0.425514, z: 0.204949},
      {x: 0.329913, y: -0.309199, z: 0.232998},
      {x: -0.303068, y: -0.396966, z: 0.087021},
      {x: 0.000000, y: -0.416129, z: 0.193289},
      {x: -0.240899, y: 0.196199, z: 0.072126},
      {x: -0.202094, y: 0.463683, z: 0.072293},
      {x: -0.196495, y: 0.073973, z: -0.194947},
      {x: -0.356649, y: -0.201172, z: 0.064475},
      {x: -0.223708, y: 0.050083, z: 0.216822},
      {x: -0.302413, y: -0.064867, z: -0.098045},
      {x: -0.323489, y: -0.077819, z: 0.178606},
      {x: -0.211567, y: -0.425514, z: 0.204949},
      {x: -0.329913, y: -0.309199, z: 0.232998},
      {x: -0.120944, y: -0.422690, z: 0.070511},
      {x: -0.128870, y: -0.280276, z: -0.267035},
      {x: -0.106735, y: -0.422750, z: -0.160566},
      {x: -0.071185, y: 0.691312, z: 0.070402},
      {x: -0.103174, y: 0.187991, z: 0.210662},
      {x: -0.144110, y: -0.299803, z: 0.404857},
      {x: -0.066239, y: 0.677571, z: -0.057217},
      {x: -0.079730, y: 0.507125, z: -0.165927},
      {x: -0.088589, y: 0.220688, z: -0.227407},
      {x: -0.069123, y: 0.612108, z: 0.162110},
      {x: -0.107381, y: -0.417734, z: 0.299738},
      {x: -0.086530, y: 0.445098, z: 0.182669},
      {x: -0.143359, y: -0.079578, z: 0.361124},
      {x: -0.122283, y: -0.056588, z: -0.268697},
      {x: -0.116187, y: -0.369086, z: -0.229604},
      {x: -0.072661, y: 0.612795, z: -0.116367},
      {x: 0.116187, y: -0.369087, z: -0.229604},
      {x: 0.113112, y: -0.424606, z: 0.196042},
      {x: 0.218688, y: 0.336754, z: 0.060131},
      {x: -0.082517, y: 0.370222, z: -0.201199},
      {x: -0.342146, y: -0.202745, z: 0.218515},
      {x: -0.277483, y: -0.384780, z: -0.052960},
      {x: 0.342146, y: -0.202745, z: 0.218515},
      {x: -0.123321, y: 0.051288, z: 0.282574},
      {x: 0.104612, y: 0.076285, z: -0.250504},
      {x: -0.263362, y: 0.070961, z: -0.103638},
      {x: 0.072661, y: 0.612795, z: -0.116367},
      {x: 0.068288, y: 0.700296, z: 0.006932},
      {x: -0.218688, y: 0.336754, z: 0.060131},
      {x: -0.068288, y: 0.700296, z: 0.006932},
      {x: 0.092843, y: 0.323418, z: 0.183578},
      {x: 0.277483, y: -0.384780, z: -0.052960},
      {x: -0.092843, y: 0.323418, z: 0.183578},
      {x: 0.114344, y: -0.430659, z: -0.055794},
      {x: -0.069793, y: 0.661151, z: 0.124576},
      {x: 0.123321, y: 0.051288, z: 0.282574},
      {x: -0.113112, y: -0.424606, z: 0.196042},
      {x: 0.123369, y: -0.375786, z: 0.369703},
      {x: 0.069793, y: 0.661151, z: 0.124576},
      {x: -0.169024, y: 0.594663, z: -0.036361},
      {x: -0.151487, y: -0.198724, z: 0.403451},
      {x: 0.082517, y: 0.370222, z: -0.201199},
      {x: 0.284665, y: -0.386757, z: 0.223581},
      {x: -0.284665, y: -0.386757, z: 0.223581},
      {x: -0.077124, y: 0.541621, z: 0.179388},
      {x: -0.123369, y: -0.375786, z: 0.369703},
      {x: 0.322028, y: -0.191732, z: -0.086948},
      {x: -0.114344, y: -0.430659, z: -0.055794},
      {x: 0.169024, y: 0.594663, z: -0.036361},
      {x: 0.208363, y: 0.358708, z: -0.090994},
      {x: 0.077124, y: 0.541621, z: 0.179388},
      {x: -0.322028, y: -0.191732, z: -0.086948},
      {x: 0.173487, y: 0.562450, z: 0.090260},
      {x: 0.263362, y: 0.070961, z: -0.103638},
      {x: -0.173487, y: 0.562450, z: 0.090260},
      {x: -0.131368, y: -0.175217, z: -0.277201},
      {x: -0.208363, y: 0.358708, z: -0.090994},
      {x: 0.151487, y: -0.198724, z: 0.403451},
      {x: -0.282070, y: 0.056411, z: 0.120093},
      {x: 0.131368, y: -0.175217, z: -0.277201},
      {x: 0.282071, y: 0.056411, z: 0.120093},
      {x: -0.104612, y: 0.076285, z: -0.250504},
      {x: -0.508828, y: -0.488737, z: 0.156039},
      {x: -0.522541, y: -0.410065, z: 0.161508},
      {x: -0.282585, y: -0.488737, z: -0.115427},
      {x: -0.282585, y: -0.309773, z: -0.115427},
      {x: -0.361756, y: -0.488737, z: 0.278610},
      {x: -0.364664, y: -0.410065, z: 0.293084},
      {x: -0.135514, y: -0.488737, z: 0.007144},
      {x: -0.135514, y: -0.309773, z: 0.007144},
      {x: -0.411821, y: -0.495733, z: 0.006876},
      {x: -0.549731, y: -0.455582, z: 0.172353},
      {x: -0.411821, y: -0.288796, z: 0.006876},
      {x: -0.273911, y: -0.455582, z: -0.158601},
      {x: -0.184261, y: -0.495733, z: -0.083886},
      {x: -0.184261, y: -0.288796, z: -0.083886},
      {x: -0.094610, y: -0.455582, z: -0.009170},
      {x: -0.232520, y: -0.495733, z: 0.156307},
      {x: -0.232520, y: -0.288796, z: 0.156307},
      {x: -0.370430, y: -0.455582, z: 0.321783},
      {x: -0.460081, y: -0.495733, z: 0.247068},
      {x: -0.477521, y: -0.396120, z: 0.267995},
      {x: -0.445638, y: -0.455582, z: -0.021308},
      {x: -0.132239, y: -0.455582, z: -0.146306},
      {x: -0.198703, y: -0.455582, z: 0.184490},
      {x: -0.512102, y: -0.455582, z: 0.309488},
      {x: -0.322171, y: -0.510414, z: 0.081591},
      {x: -0.322171, y: -0.244774, z: 0.081591},
      {x: 0.508827, y: -0.488737, z: 0.156039},
      {x: 0.522541, y: -0.410065, z: 0.161508},
      {x: 0.282585, y: -0.488737, z: -0.115427},
      {x: 0.282585, y: -0.309773, z: -0.115427},
      {x: 0.361756, y: -0.488737, z: 0.278610},
      {x: 0.364664, y: -0.410065, z: 0.293084},
      {x: 0.135514, y: -0.488737, z: 0.007144},
      {x: 0.135514, y: -0.309773, z: 0.007144},
      {x: 0.411821, y: -0.495733, z: 0.006876},
      {x: 0.549731, y: -0.455582, z: 0.172353},
      {x: 0.411821, y: -0.288796, z: 0.006876},
      {x: 0.273911, y: -0.455582, z: -0.158601},
      {x: 0.184261, y: -0.495733, z: -0.083886},
      {x: 0.184261, y: -0.288796, z: -0.083886},
      {x: 0.094610, y: -0.455582, z: -0.009170},
      {x: 0.232520, y: -0.495733, z: 0.156307},
      {x: 0.232520, y: -0.288796, z: 0.156307},
      {x: 0.370430, y: -0.455582, z: 0.321783},
      {x: 0.460080, y: -0.495733, z: 0.247068},
      {x: 0.477521, y: -0.396120, z: 0.267995},
      {x: 0.445638, y: -0.455582, z: -0.021308},
      {x: 0.132239, y: -0.455582, z: -0.146306},
      {x: 0.198703, y: -0.455582, z: 0.184490},
      {x: 0.512102, y: -0.455582, z: 0.309488},
      {x: 0.322171, y: -0.510414, z: 0.081591},
      {x: 0.322171, y: -0.244774, z: 0.081591},
    ]


    const movingZRef = useRef<number>(0);
    const rotationAngleRef = useRef<number>(0);
    const rotationAngleXYRef = useRef<number>(0);

    useEffect(() => {
        movingZRef.current = movingZ;
    }, [movingZ]);
    useEffect(() => {
        rotationAngleRef.current = rotationAngle;
    }, [rotationAngle]);
    useEffect(() => {
        rotationAngleXYRef.current = rotationAngleXY;
    }, [rotationAngleXY]);

  const animateZ = useCallback(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;

    const ctx = canvas.getContext("2d");
    if (!ctx) return;
    animate(vs, ctx, movingZRef, rotationAngleRef, rotationAngleXYRef);
    setIsDisabled(true)
    }, [movingZ, rotationAngle, rotationAngleXY]);

    const handleCanvasWheel = useCallback((e: React.WheelEvent<HTMLCanvasElement>) => {
        e.preventDefault()
        setMovingZ((prev) => {
            const next = prev - e.deltaY * WHEEL_ZOOM_SENSITIVITY
            return Math.min(ZOOM_MAX, Math.max(ZOOM_MIN, next))
        })
    }, [])

    const clearCanvasWrapper = () => {
        const canvas = canvasRef.current
        if (!canvas) return
        const ctx = canvas.getContext("2d")
        if (!ctx) return
        stopAnimation()
        clearCanvas(ctx)
        setIsDisabled(false)
        window.location.reload()
    }

    useEffect(() => {
        const canvas = canvasRef.current
        if (!canvas) return

        canvas.width = window.innerWidth
        canvas.height = window.innerHeight

        const ctx = canvas.getContext("2d")
        if (!ctx) return
    }, [])

    return (
        <div style={{
            margin: 0,
            padding: 0,
            width: '75vw',
            height: '100dvh',
            overflow: 'hidden',
            background: '#000000',
        }}>
            <header style={{
                position: 'absolute',
                top: 0,
                left: 0,
                right: 0,
                padding: '24px 32px',
                background: '#1e1f22',
                zIndex: 100
            }}>
                <h1 style={{
                    margin: 0,
                    fontSize: '20px',
                    fontWeight: 400,
                    color: '#999',
                    letterSpacing: '0.5px'
                }}>
                    3D Playground
                </h1>
            </header>
            <div style={{
                position: 'absolute',
                top: '80px',
                left: '32px',
                display: 'flex',
                flexDirection: 'column',
                gap: '8px',
                zIndex: 100
            }}>
                <button
                    onClick={() => clearCanvasWrapper()}
                    style={{
                        padding: '8px 16px',
                        fontSize: '16px',
                        fontWeight: 400,
                        color: '#666',
                        background: '#fff',
                        border: '1px solid #e0e0e0',
                        borderRadius: '10px',
                        cursor: 'pointer',
                        transition: 'all 0.2s ease'
                    }}
                >
                    Clear
                </button>
                <button
                    onClick={() => animateZ()}
                    disabled={isDisabled}
                    style={{
                        padding: '8px 16px',
                        fontSize: '16px',
                        fontWeight: 400,
                        color: '#666',
                        background: '#fff',
                        border: '1px solid #e0e0e0',
                        borderRadius: '10px',
                        cursor: 'pointer',
                        transition: 'all 0.2s ease',
                    }}
                >
                  Show
                </button>
                <Slider value={movingZ} min={ZOOM_MIN} max={ZOOM_MAX} onChange={setMovingZ} />
                <Slider value={rotationAngle} min={ROTATION_MIN} max={ROTATION_MAX} step={0.01} onChange={setRotationAngle} />
                <Slider value={rotationAngleXY} min={ROTATION_MIN} max={ROTATION_MAX} step={0.01} onChange={setRotationAngleXY} />
            </div>

            <canvas
                ref={canvasRef}
                onWheel={handleCanvasWheel}
                style={{
                    width: '100%',
                    height: '100%',
                    cursor: 'crosshair'
                }}
            />
        </div>
    )
}

export default App
